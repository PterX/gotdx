package quotes

import (
	"encoding/hex"
	"fmt"
	"testing"
)

func TestV2SecurityQuotesPackage_UnSerialize(t *testing.T) {
	hexString := "b1cb74001c3b2f8800004c051105d107789c75957d4c137718c79fdfddf5ee7a6da1050aa29597a9d36cce1d2db4b02d2d5704c4524944d0a9c16c0b71cecd652ff125cb16c69497511c600b5840878522182ca0e86801d14dc117d4b86936b904984ee79c6e6ed1c539c3aef80ff7c7fdfeff3d9f7c9ee7fb7b7e0011002ccb1af529835480cab06269fe669e7942b9bc8bd4aef762ed4dd5ea3ee72ccefd3902545e8cca9fab54de9bc2a068f15016cc387addefe61fc25a4e82c419a4048a5ecfa6e413adea4c8ec9aadacb33bfa82b7ec54d05f2a736d7083ab61f833639071a1f5212e140c150e297cb6696d89b32c762bd775612914f0411294909d730bf3a3f479e13a8e7997fd5bda7b0105d6187cdb7ade43c82432a40b39d48093a888689dceb2289e41db254d9cb999c14e11a36dd2a43f20d6c3f63c5c88c0e37cf8c33ee49fc95bace265b4f2b763080609f82034329a1c400645014d08b241efdbcc8b279af4b52e24610a14fd227dfa29bc36d79d16b9cb53c3319defc94f3609737c4afa81889abeb8d075f0f09a89ae8a5ed918fa734006b8a96cfacb2755b93f97e53ac558a728b0e5212f58602aa5fb1b19029ec6be299ff14dee1387ad5f7667bd569a6ae38129c1f0b23475e952ac23ba505d8a7153126d61db08ccfad933429a09091650d498957c9800296a956150773a568dc19f962f42798dd7354d977490ece1121574708373d4a8d4e8540d1f8b86822cb7df32c556baa252157c96908ab3f891ae9a51c6e1d708c313cbd731821f3922bcb4b0b07df003705e83072a1cac86777a8f49915521765bcf6e89cfe9414e1249a1e8889adc3eb298411694d0778e647aa9d57a81aff599cfd8d93ee1ec6913b9483da591df917901648803287c8c2467b2cfafba5921675f874725936047744903a5dd64015cf5c88f0f810d6b0b0c0d6feb63f03952de0a007d508c9550302584c67ceaca07dd86ee6cedc944c6ec83421c998c8135574decac8bcbe469eb94c7b476675a95aeacf669fb849b7dd08852fc23918c43aa21df8fd291c8aca178a34e22d6bcd0f9ff4486af0c107c89a0cc66ed217b5ce4eae2ca9e1993fa2765fa435d7df3f9f5dd346f47b09f07e294c5ceb56286136d090aa528852b57a81ce72cbe9911c4737399ddc64c308f6359d8ee14b5d42aa26687f00a78e1cde6c6bbb83f65c417010717002edc695c20d0c86c6e2451e85c7f7584ae6570f493146b060a84cacc14f1f8ab1a531ab6b76f3ccdd987df5f35ce87533b9c2f39ba6bf5303bd3b69409dd8f125768d2cf8d273626c33ab90ebdfb4c4b98a254dfc74909268326da77651e91c2c6b6ce399d394ab42d749bc3af774f6d19f94cddda1b0ab567069d71e4a75a048215aa99b9e17f5ebddb756598cf5d2fb647b70efb2c986840d74a9f1c334d5d6c37f8f31c346e777aaf8fe40afbdac94ac1ca0c0fb44d859c588568629810088558918b9ef5c33b736e44a866b030d06019294f2801e8c3d87b6c8b61c2fe71968bcd8833cb2973e65733abd595d6d9bacbde75f005421938f8684821c8a720744fd9abcd465193b7257d2e441b05f0683d1741baf8c92a974e9f50e9e198d2a398385d714dfb3d50ea1ae5d08396200a110a5f07d087fd45f0745bbb76fc7b7e6f4890f24b7e2ed678f24214143bac3ac8432b3a18e67ae8735b490ea3cefc6ec7e3fbeff0e062d9c15e447c90bc4e3291ae2d61f13452bd33537352ae13349090d196c95d16430e1adb319ad2eadea2ba153be1e2c7c8f09b21d2790e723e85f0bf89cf92ae191d3007f968b147c936596be4287a48209ff1fbd25ad8b"
	data, err := hex.DecodeString(hexString)
	if err != nil {
		fmt.Println(err)
	}

	header, respBody, err := parseResponseHeader(data)
	if err != nil {
		fmt.Println(err)
	}
	fmt.Printf("%+v\n", header)
	quotes := NewV2SecurityQuotesPackage()
	err = quotes.UnSerialize(header, respBody)
	if err != nil {
		fmt.Println(err)
	}
	fmt.Printf("%+v\n", quotes)
}
